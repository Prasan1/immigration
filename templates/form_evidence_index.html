<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table of Contents / Evidence Index</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>

        .navbar {
            background: white !important;
            border-bottom: 2px solid transparent;
            border-image: linear-gradient(to right, #b45309, #0f766e) 1;
            box-shadow: 0 4px 12px rgba(15, 23, 42, 0.08);
        }

        .navbar-brand {
            font-family: 'Fraunces', Georgia, serif;
            font-weight: 800;
            color: #0f172a !important;
        }

        .navbar .nav-link {
            color: #475569 !important;
            font-weight: 600;
            border-radius: 8px;
            padding: 0.5rem 1rem !important;
        }

        .navbar .nav-link:hover {
            color: #b45309 !important;
            background: rgba(180, 83, 9, 0.12);
        }

        .navbar-toggler {
            border: none;
        }

        .navbar-toggler:focus {
            box-shadow: none;
        }

        body {
            font-family: 'Times New Roman', Times, serif;
            line-height: 1.6;
            color: #000;
        }

        .container {
            max-width: 8.5in;
            margin: 0 auto;
            padding: 0.75in;
        }

        .form-header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid #000;
            padding-bottom: 20px;
        }

        .form-header h1 {
            font-size: 20px;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        input[type="text"] {
            border: none;
            border-bottom: 1px solid #666;
            padding: 5px;
            font-family: 'Times New Roman', Times, serif;
            font-size: 14px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table, th, td {
            border: 2px solid #000;
        }

        th {
            background: #f0f0f0;
            font-weight: bold;
            padding: 12px 8px;
            text-align: left;
        }

        td {
            padding: 10px 8px;
        }

        td input {
            width: 100%;
            border: none;
            padding: 5px;
        }

        .action-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }

        .btn-action {
            background: #b45309;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(180, 83, 9, 0.3);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
        }

        .btn-action:hover {
            background: #5568d3;
            color: white;
        }

        .btn-home {
            background: #28a745;
        }

        .btn-home:hover {
            background: #218838;
        }

        @media print {
            .action-buttons {
                display: none !important;
            }
            body {
                margin: 0;
                padding: 0;
            }
            .container {
                max-width: 100%;
                padding: 0.5in;
            }
        }

        .add-row-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        .instructions {
            background: #f1f5f9;
            border-left: 4px solid #94a3b8;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 14px;
        }

        /* Share Menu Styles */
        .share-menu {
            position: fixed;
            top: 80px;
            right: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            min-width: 250px;
            display: none;
            animation: slideIn 0.3s ease-out;
        }

        .share-menu.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .share-menu-header {
            padding: 16px 20px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #1f2937;
        }

        .share-close {
            background: none;
            border: none;
            font-size: 24px;
            color: #6b7280;
            cursor: pointer;
            padding: 0;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
        }

        .share-close:hover {
            background: #f3f4f6;
            color: #1f2937;
        }

        .share-options {
            padding: 8px;
        }

        .share-option {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: #374151;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s;
            gap: 12px;
        }

        .share-option:hover {
            background: #f3f4f6;
            color: #b45309;
        }

        .share-option i {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        .share-option .fa-linkedin {
            color: #0077b5;
        }

        .share-option .fa-twitter {
            color: #1da1f2;
        }

        .share-option .fa-facebook {
            color: #1877f2;
        }

        .share-option .fa-whatsapp {
            color: #25d366;
        }

        .share-option .fa-envelope {
            color: #ea4335;
        }

        .share-option .fa-link {
            color: #6b7280;
        }

        @media print {
            .share-menu {
                display: none !important;
            }
        }
    
        @media print {
            .print-hide {
                display: none !important;
            }
        }

        @media screen {
            .container {
                padding-top: 24px;
                padding-bottom: 24px;
            }
        }
</style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light print-hide">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-passport me-2"></i>
                {{ g.branding.site_name }}
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="/">
                            <i class="fas fa-home me-1"></i>Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/forms">
                            <i class="fas fa-file-alt me-1"></i>Forms
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/templates">
                            <i class="fas fa-edit me-1"></i>Templates
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/file-compressor">
                            <i class="fas fa-file-archive me-1"></i>Compressor
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/pricing">
                            <i class="fas fa-tags me-1"></i>Pricing
                        </a>
                    </li>
                    {% if user %}
                    <li class="nav-item">
                        <a class="nav-link" href="/dashboard">
                            <i class="fas fa-tachometer-alt me-1"></i>Dashboard
                        </a>
                    </li>
                    {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="/login">
                            <i class="fas fa-sign-in-alt me-1"></i>Sign In
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <div class="action-buttons">
        <a href="/" class="btn-action btn-home">
            <i class="fas fa-home me-2"></i>Home
        </a>
        <button class="btn-action" onclick="window.print()">
            <i class="fas fa-print me-2"></i>Print
        </button>
        <button class="btn-action" onclick="window.print()">
            <i class="fas fa-file-pdf me-2"></i>Save PDF
        </button>
        <button class="btn-action" onclick="toggleShareMenu()">
            <i class="fas fa-share-alt me-2"></i>Share
        </button>
    </div>

    <!-- Share Menu -->
    <div id="shareMenu" class="share-menu">
        <div class="share-menu-header">
            <span>Share this form template</span>
            <button class="share-close" onclick="toggleShareMenu()">&times;</button>
        </div>
        <div class="share-options">
            <a href="#" class="share-option" onclick="shareOn('linkedin')">
                <i class="fab fa-linkedin"></i>
                <span>LinkedIn</span>
            </a>
            <a href="#" class="share-option" onclick="shareOn('twitter')">
                <i class="fab fa-twitter"></i>
                <span>Twitter</span>
            </a>
            <a href="#" class="share-option" onclick="shareOn('facebook')">
                <i class="fab fa-facebook"></i>
                <span>Facebook</span>
            </a>
            <a href="#" class="share-option" onclick="shareOn('whatsapp')">
                <i class="fab fa-whatsapp"></i>
                <span>WhatsApp</span>
            </a>
            <a href="#" class="share-option" onclick="shareOn('email')">
                <i class="fas fa-envelope"></i>
                <span>Email</span>
            </a>
            <a href="#" class="share-option" onclick="copyLink()">
                <i class="fas fa-link"></i>
                <span>Copy Link</span>
            </a>
        </div>
    </div>

    <div class="container">
        <div class="form-header">
            <h1>Table of Contents / Evidence Index</h1>
            <p style="font-size: 14px; margin-top: 10px;">
                Immigration Application Supporting Documents
            </p>
        </div>

        <div class="instructions print-hide">
            <strong><i class="fas fa-info-circle me-2"></i>Instructions:</strong>
            List all documents included in your application package. Use exhibit letters (A, B, C...) to organize evidence.
            This helps USCIS officers review your case efficiently.
        </div>

        <!-- Case Information -->
        <div style="margin-bottom: 30px;">
            <p style="margin-bottom: 10px;">
                <strong>Applicant Name:</strong>
                <input type="text" name="applicantName" placeholder="Full Legal Name" style="width: 400px;">
            </p>

            <p style="margin-bottom: 10px;">
                <strong>Application Type:</strong>
                <input type="text" name="applicationType" placeholder="e.g., I-485 Adjustment of Status" style="width: 400px;">
            </p>

            <p style="margin-bottom: 10px;">
                <strong>A-Number (if applicable):</strong>
                <input type="text" name="aNumber" placeholder="A-" style="width: 150px;">
            </p>

            <p style="margin-bottom: 10px;">
                <strong>Date Submitted:</strong>
                <input type="date" name="dateSubmitted" style="width: 150px;">
            </p>
        </div>

        <h3 style="margin-top: 30px; margin-bottom: 15px; font-size: 16px;">SUPPORTING DOCUMENTS</h3>

        <table id="evidenceTable">
            <thead>
                <tr>
                    <th style="width: 60px;">Exhibit</th>
                    <th>Document Description</th>
                    <th style="width: 100px;">Page Numbers</th>
                    <th style="width: 80px;">Total Pages</th>
                </tr>
            </thead>
            <tbody>
                <!-- USCIS Forms Section -->
                <tr style="background: #e9ecef;">
                    <td colspan="4" style="font-weight: bold; text-align: center;">
                        I. USCIS FORMS
                    </td>
                </tr>
                <tr>
                    <td><input type="text" value="A" name="exhibit1"></td>
                    <td><input type="text" name="doc1" placeholder="e.g., Form I-485, Application to Register Permanent Residence"></td>
                    <td><input type="text" name="pages1" placeholder="1-12"></td>
                    <td><input type="text" name="count1" placeholder="12"></td>
                </tr>
                <tr>
                    <td><input type="text" value="B" name="exhibit2"></td>
                    <td><input type="text" name="doc2" placeholder="e.g., Form I-765, Application for Employment Authorization"></td>
                    <td><input type="text" name="pages2"></td>
                    <td><input type="text" name="count2"></td>
                </tr>

                <!-- Supporting Documents Section -->
                <tr style="background: #e9ecef;">
                    <td colspan="4" style="font-weight: bold; text-align: center;">
                        II. IDENTITY & CIVIL DOCUMENTS
                    </td>
                </tr>
                <tr>
                    <td><input type="text" value="C" name="exhibit3"></td>
                    <td><input type="text" name="doc3" placeholder="e.g., Copy of Passport (biographical pages and all stamps)"></td>
                    <td><input type="text" name="pages3"></td>
                    <td><input type="text" name="count3"></td>
                </tr>
                <tr>
                    <td><input type="text" value="D" name="exhibit4"></td>
                    <td><input type="text" name="doc4" placeholder="e.g., Birth Certificate with certified English translation"></td>
                    <td><input type="text" name="pages4"></td>
                    <td><input type="text" name="count4"></td>
                </tr>
                <tr>
                    <td><input type="text" value="E" name="exhibit5"></td>
                    <td><input type="text" name="doc5" placeholder="e.g., Marriage Certificate with certified English translation"></td>
                    <td><input type="text" name="pages5"></td>
                    <td><input type="text" name="count5"></td>
                </tr>

                <!-- Immigration Documents -->
                <tr style="background: #e9ecef;">
                    <td colspan="4" style="font-weight: bold; text-align: center;">
                        III. IMMIGRATION DOCUMENTS
                    </td>
                </tr>
                <tr>
                    <td><input type="text" value="F" name="exhibit6"></td>
                    <td><input type="text" name="doc6" placeholder="e.g., Copy of I-94 Arrival/Departure Record"></td>
                    <td><input type="text" name="pages6"></td>
                    <td><input type="text" name="count6"></td>
                </tr>
                <tr>
                    <td><input type="text" value="G" name="exhibit7"></td>
                    <td><input type="text" name="doc7" placeholder="e.g., Copy of current visa"></td>
                    <td><input type="text" name="pages7"></td>
                    <td><input type="text" name="count7"></td>
                </tr>

                <!-- Financial Documents -->
                <tr style="background: #e9ecef;">
                    <td colspan="4" style="font-weight: bold; text-align: center;">
                        IV. FINANCIAL DOCUMENTS
                    </td>
                </tr>
                <tr>
                    <td><input type="text" value="H" name="exhibit8"></td>
                    <td><input type="text" name="doc8" placeholder="e.g., Tax Returns (most recent 3 years) with W-2s"></td>
                    <td><input type="text" name="pages8"></td>
                    <td><input type="text" name="count8"></td>
                </tr>
                <tr>
                    <td><input type="text" value="I" name="exhibit9"></td>
                    <td><input type="text" name="doc9" placeholder="e.g., Bank statements (most recent 6 months)"></td>
                    <td><input type="text" name="pages9"></td>
                    <td><input type="text" name="count9"></td>
                </tr>

                <!-- Employment Documents -->
                <tr style="background: #e9ecef;">
                    <td colspan="4" style="font-weight: bold; text-align: center;">
                        V. EMPLOYMENT DOCUMENTS
                    </td>
                </tr>
                <tr>
                    <td><input type="text" value="J" name="exhibit10"></td>
                    <td><input type="text" name="doc10" placeholder="e.g., Employment Verification Letter"></td>
                    <td><input type="text" name="pages10"></td>
                    <td><input type="text" name="count10"></td>
                </tr>
                <tr>
                    <td><input type="text" value="K" name="exhibit11"></td>
                    <td><input type="text" name="doc11" placeholder="e.g., Pay stubs (most recent 6 months)"></td>
                    <td><input type="text" name="pages11"></td>
                    <td><input type="text" name="count11"></td>
                </tr>

                <!-- Relationship Evidence (if applicable) -->
                <tr style="background: #e9ecef;">
                    <td colspan="4" style="font-weight: bold; text-align: center;">
                        VI. RELATIONSHIP EVIDENCE (if applicable)
                    </td>
                </tr>
                <tr>
                    <td><input type="text" value="L" name="exhibit12"></td>
                    <td><input type="text" name="doc12" placeholder="e.g., Joint bank account statements"></td>
                    <td><input type="text" name="pages12"></td>
                    <td><input type="text" name="count12"></td>
                </tr>
                <tr>
                    <td><input type="text" value="M" name="exhibit13"></td>
                    <td><input type="text" name="doc13" placeholder="e.g., Joint lease or mortgage documents"></td>
                    <td><input type="text" name="pages13"></td>
                    <td><input type="text" name="count13"></td>
                </tr>
                <tr>
                    <td><input type="text" value="N" name="exhibit14"></td>
                    <td><input type="text" name="doc14" placeholder="e.g., Photos together (labeled with dates and locations)"></td>
                    <td><input type="text" name="pages14"></td>
                    <td><input type="text" name="count14"></td>
                </tr>

                <!-- Other Documents -->
                <tr style="background: #e9ecef;">
                    <td colspan="4" style="font-weight: bold; text-align: center;">
                        VII. OTHER SUPPORTING DOCUMENTS
                    </td>
                </tr>
                <tr>
                    <td><input type="text" value="O" name="exhibit15"></td>
                    <td><input type="text" name="doc15" placeholder="e.g., Affidavits of Support (I-864)"></td>
                    <td><input type="text" name="pages15"></td>
                    <td><input type="text" name="count15"></td>
                </tr>
                <tr>
                    <td><input type="text" value="P" name="exhibit16"></td>
                    <td><input type="text" name="doc16" placeholder="e.g., Medical Examination (Form I-693) in sealed envelope"></td>
                    <td><input type="text" name="pages16"></td>
                    <td><input type="text" name="count16"></td>
                </tr>
            </tbody>
        </table>

        <button class="add-row-btn print-hide" onclick="addRow()">
            <i class="fas fa-plus me-2"></i>Add Another Document
        </button>

        <!-- Summary -->
        <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
            <h4 style="margin-bottom: 15px;">Summary</h4>
            <p><strong>Total Documents:</strong> <span id="totalDocs">16</span></p>
            <p style="margin-bottom: 0;"><strong>Total Pages:</strong> <span id="totalPages">Calculate manually</span></p>
        </div>

        <div style="margin-top: 30px; font-size: 12px; color: #666;">
            <p><strong>Note:</strong> All documents must be legible copies. Original documents should NOT be submitted unless specifically requested by USCIS.</p>
            <p><strong>Translations:</strong> All foreign language documents must be accompanied by certified English translations.</p>
        </div>
    </div>

    <script>
        let rowCount = 16;

        function addRow() {
            rowCount++;
            const letter = String.fromCharCode(64 + rowCount); // A=65, so 64+rowCount
            const table = document.getElementById('evidenceTable').getElementsByTagName('tbody')[0];
            const newRow = table.insertRow();

            newRow.innerHTML = `
                <td><input type="text" value="${letter}" name="exhibit${rowCount}"></td>
                <td><input type="text" name="doc${rowCount}" placeholder="Document description"></td>
                <td><input type="text" name="pages${rowCount}"></td>
                <td><input type="text" name="count${rowCount}"></td>
            `;

            document.getElementById('totalDocs').textContent = rowCount;
        }

        // Auto-save functionality
        const inputs = document.querySelectorAll('input[name]');

        inputs.forEach(input => {
            const saved = localStorage.getItem('evidence_' + input.name);
            if (saved) input.value = saved;

            input.addEventListener('input', function() {
                localStorage.setItem('evidence_' + input.name, input.value);
            });
        });

        // Share functionality
        function toggleShareMenu() {
            const menu = document.getElementById('shareMenu');
            menu.classList.toggle('active');
        }

        // Close share menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('shareMenu');
            const shareButton = event.target.closest('.btn-action');

            if (!menu.contains(event.target) && !shareButton?.textContent.includes('Share')) {
                menu.classList.remove('active');
            }
        });

        function shareOn(platform) {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent('Evidence Index Template - Immigration Forms');
            const text = encodeURIComponent('Check out this helpful Evidence Index template for organizing immigration application documents');

            let shareUrl;

            switch(platform) {
                case 'linkedin':
                    shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${text}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
                    break;
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${text}%20${url}`;
                    break;
                case 'email':
                    shareUrl = `mailto:?subject=${title}&body=${text}%20${url}`;
                    break;
            }

            if (shareUrl) {
                window.open(shareUrl, '_blank', 'width=600,height=400');
            }

            toggleShareMenu();
            return false;
        }

        function copyLink() {
            const url = window.location.href;

            if (navigator.clipboard) {
                navigator.clipboard.writeText(url).then(function() {
                    // Show success message
                    const copyBtn = event.target.closest('.share-option');
                    const originalText = copyBtn.querySelector('span').textContent;
                    copyBtn.querySelector('span').textContent = 'Copied!';
                    copyBtn.style.color = '#10b981';

                    setTimeout(function() {
                        copyBtn.querySelector('span').textContent = originalText;
                        copyBtn.style.color = '';
                    }, 2000);
                });
            } else {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = url;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Link copied to clipboard!');
            }

            return false;
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>
