<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employer Support Letter</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>

        .navbar {
            background: white !important;
            border-bottom: 2px solid transparent;
            border-image: linear-gradient(to right, #b45309, #0f766e) 1;
            box-shadow: 0 4px 12px rgba(15, 23, 42, 0.08);
        }

        .navbar-brand {
            font-family: 'Fraunces', Georgia, serif;
            font-weight: 800;
            color: #0f172a !important;
        }

        .navbar .nav-link {
            color: #475569 !important;
            font-weight: 600;
            border-radius: 8px;
            padding: 0.5rem 1rem !important;
        }

        .navbar .nav-link:hover {
            color: #b45309 !important;
            background: rgba(180, 83, 9, 0.12);
        }

        .navbar-toggler {
            border: none;
        }

        .navbar-toggler:focus {
            box-shadow: none;
        }

        body {
            font-family: 'Times New Roman', Times, serif;
            line-height: 1.6;
            color: #000;
        }

        .container {
            max-width: 8.5in;
            margin: 0 auto;
            padding: 1in;
        }

        .letterhead {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #000;
        }

        .letterhead input {
            text-align: center;
            border: none;
            border-bottom: 1px dotted #666;
            font-weight: bold;
            font-size: 16px;
            margin: 3px 0;
            width: 100%;
        }

        input[type="text"], input[type="date"], textarea {
            border: none;
            border-bottom: 1px solid #666;
            padding: 5px;
            font-family: 'Times New Roman', Times, serif;
            font-size: 14px;
        }

        textarea {
            width: 100%;
            min-height: 80px;
            resize: vertical;
        }

        .date-section {
            text-align: right;
            margin-bottom: 30px;
        }

        .address-block {
            margin-bottom: 30px;
        }

        .body-text p {
            text-align: justify;
            margin-bottom: 15px;
        }

        .signature-section {
            margin-top: 50px;
        }

        .action-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }

        .btn-action {
            background: #b45309;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(180, 83, 9, 0.3);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
        }

        .btn-action:hover {
            background: #5568d3;
            color: white;
        }

        .btn-home {
            background: #28a745;
        }

        .btn-home:hover {
            background: #218838;
        }

        @media print {
            .action-buttons, .print-hide {
                display: none !important;
            }
            body {
                margin: 0;
                padding: 0;
            }
            .container {
                max-width: 100%;
                padding: 0.5in;
            }
        }

        .helper-instruction {
            background: #e7f3ff;
            border-left: 4px solid #b45309;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 14px;
        }

        /* Share Menu Styles */
        .share-menu {
            position: fixed;
            top: 80px;
            right: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            min-width: 250px;
            display: none;
            animation: slideIn 0.3s ease-out;
        }

        .share-menu.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .share-menu-header {
            padding: 16px 20px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #1f2937;
        }

        .share-close {
            background: none;
            border: none;
            font-size: 24px;
            color: #6b7280;
            cursor: pointer;
            padding: 0;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
        }

        .share-close:hover {
            background: #f3f4f6;
            color: #1f2937;
        }

        .share-options {
            padding: 8px;
        }

        .share-option {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: #374151;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s;
            gap: 12px;
        }

        .share-option:hover {
            background: #f3f4f6;
            color: #b45309;
        }

        .share-option i {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        .share-option .fa-linkedin {
            color: #0077b5;
        }

        .share-option .fa-twitter {
            color: #1da1f2;
        }

        .share-option .fa-facebook {
            color: #1877f2;
        }

        .share-option .fa-whatsapp {
            color: #25d366;
        }

        .share-option .fa-envelope {
            color: #ea4335;
        }

        .share-option .fa-link {
            color: #6b7280;
        }

        @media print {
            .share-menu {
                display: none !important;
            }
        }
    
        @media screen {
            .container {
                padding-top: 24px;
                padding-bottom: 24px;
            }
        }
</style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light print-hide">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-passport me-2"></i>
                {{ g.branding.site_name }}
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="/">
                            <i class="fas fa-home me-1"></i>Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/forms">
                            <i class="fas fa-file-alt me-1"></i>Forms
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/templates">
                            <i class="fas fa-edit me-1"></i>Templates
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/file-compressor">
                            <i class="fas fa-file-archive me-1"></i>Compressor
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/pricing">
                            <i class="fas fa-tags me-1"></i>Pricing
                        </a>
                    </li>
                    {% if user %}
                    <li class="nav-item">
                        <a class="nav-link" href="/dashboard">
                            <i class="fas fa-tachometer-alt me-1"></i>Dashboard
                        </a>
                    </li>
                    {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="/login">
                            <i class="fas fa-sign-in-alt me-1"></i>Sign In
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <div class="action-buttons">
        <a href="/" class="btn-action btn-home">
            <i class="fas fa-home me-2"></i>Home
        </a>
        <button class="btn-action" onclick="window.print()">
            <i class="fas fa-print me-2"></i>Print
        </button>
        <button class="btn-action" onclick="window.print()">
            <i class="fas fa-file-pdf me-2"></i>Save PDF
        </button>
        <button class="btn-action" onclick="toggleShareMenu()">
            <i class="fas fa-share-alt me-2"></i>Share
        </button>
    </div>

    <!-- Share Menu -->
    <div id="shareMenu" class="share-menu">
        <div class="share-menu-header">
            <span>Share this form template</span>
            <button class="share-close" onclick="toggleShareMenu()">&times;</button>
        </div>
        <div class="share-options">
            <a href="#" class="share-option" onclick="shareOn('linkedin')">
                <i class="fab fa-linkedin"></i>
                <span>LinkedIn</span>
            </a>
            <a href="#" class="share-option" onclick="shareOn('twitter')">
                <i class="fab fa-twitter"></i>
                <span>Twitter</span>
            </a>
            <a href="#" class="share-option" onclick="shareOn('facebook')">
                <i class="fab fa-facebook"></i>
                <span>Facebook</span>
            </a>
            <a href="#" class="share-option" onclick="shareOn('whatsapp')">
                <i class="fab fa-whatsapp"></i>
                <span>WhatsApp</span>
            </a>
            <a href="#" class="share-option" onclick="shareOn('email')">
                <i class="fas fa-envelope"></i>
                <span>Email</span>
            </a>
            <a href="#" class="share-option" onclick="copyLink()">
                <i class="fas fa-link"></i>
                <span>Copy Link</span>
            </a>
        </div>
    </div>

    <div class="container">
        <div class="helper-instruction print-hide">
            <strong><i class="fas fa-lightbulb me-2"></i>Instructions:</strong>
            This letter should be written on company letterhead and signed by an authorized representative
            (HR Manager, CEO, or supervisor). Customize based on your petition type (H-1B, L-1, EB-2, etc.).
        </div>

        <!-- Letterhead -->
        <div class="letterhead">
            <input type="text" name="companyName" placeholder="Company Name" style="font-size: 20px;">
            <br>
            <input type="text" name="companyAddress" placeholder="Street Address">
            <br>
            <input type="text" name="companyCityState" placeholder="City, State ZIP">
            <br>
            <input type="text" name="companyContact" placeholder="Phone | Email | Website">
        </div>

        <!-- Date -->
        <div class="date-section">
            <input type="date" name="date" style="border-bottom: none;">
        </div>

        <!-- To Address (USCIS) -->
        <div class="address-block">
            <strong>U.S. Citizenship and Immigration Services</strong><br>
            <input type="text" name="uscisOffice" placeholder="USCIS Service Center" style="width: 400px;"><br>
            <input type="text" name="uscisAddress" placeholder="Address" style="width: 400px;"><br>
            <input type="text" name="uscisCityState" placeholder="City, State ZIP" style="width: 400px;">
        </div>

        <!-- Subject Line -->
        <p style="font-weight: bold;">
            RE: Employment Verification Letter for
            <input type="text" name="beneficiaryName" placeholder="Beneficiary Full Name" style="width: 300px; border-bottom: 1px solid #000;">
        </p>

        <p style="margin-left: 50px;">
            <strong>Position:</strong>
            <input type="text" name="jobTitle" placeholder="Job Title" style="width: 300px;"><br>
            <strong>Petition Type:</strong>
            <input type="text" name="petitionType" placeholder="e.g., H-1B, L-1A, EB-2 PERM" style="width: 200px;">
        </p>

        <!-- Salutation -->
        <p style="margin-top: 30px;">
            To Whom It May Concern:
        </p>

        <!-- Body -->
        <div class="body-text">
            <p>
                This letter is to confirm that
                <input type="text" name="employeeName" placeholder="Employee Name" style="width: 250px;">
                has been employed by
                <input type="text" name="employerName" placeholder="Company Name" style="width: 250px;">
                since
                <input type="date" name="startDate" style="width: 150px;">
                in the position of
                <input type="text" name="position" placeholder="Job Title" style="width: 250px;">.
            </p>

            <p><strong>Company Overview:</strong></p>
            <p>
                <textarea name="companyOverview" rows="4" placeholder="Describe your company: industry, size, business activities, locations, number of employees, annual revenue, etc."></textarea>
            </p>

            <p><strong>Position Details:</strong></p>
            <p>
                <strong>Job Title:</strong>
                <input type="text" name="jobTitleDetail" style="width: 400px;"><br>
                <strong>Department:</strong>
                <input type="text" name="department" placeholder="e.g., Engineering, Marketing" style="width: 300px;"><br>
                <strong>Work Location:</strong>
                <input type="text" name="workLocation" placeholder="City, State" style="width: 300px;"><br>
                <strong>Salary:</strong> $<input type="number" name="salary" placeholder="Annual" style="width: 120px;">
                per year<br>
                <strong>Hours per Week:</strong>
                <input type="number" name="hoursPerWeek" placeholder="40" style="width: 60px;">
                hours
            </p>

            <p><strong>Job Duties and Responsibilities:</strong></p>
            <p style="font-size: 13px; color: #666; font-style: italic;">
                (List specific duties with percentages. Be detailed - USCIS wants to see specialized knowledge/skills.)
            </p>
            <ul>
                <li><input type="text" name="duty1" placeholder="e.g., Design and develop software applications using Java and Python (30%)" style="width: 700px;"></li>
                <li><input type="text" name="duty2" placeholder="e.g., Lead team of 5 developers in Agile development process (25%)" style="width: 700px;"></li>
                <li><input type="text" name="duty3" placeholder="e.g., Collaborate with product managers to define technical requirements (20%)" style="width: 700px;"></li>
                <li><input type="text" name="duty4" placeholder="e.g., Perform code reviews and mentor junior developers (15%)" style="width: 700px;"></li>
                <li><input type="text" name="duty5" placeholder="e.g., Research and implement new technologies to improve system performance (10%)" style="width: 700px;"></li>
            </ul>

            <p><strong>Minimum Requirements for the Position:</strong></p>
            <p>
                <strong>Education:</strong>
                <input type="text" name="eduRequirement" placeholder="e.g., Bachelor's degree in Computer Science or related field" style="width: 500px;"><br>
                <strong>Experience:</strong>
                <input type="text" name="expRequirement" placeholder="e.g., Minimum 3 years of experience in software development" style="width: 500px;"><br>
                <strong>Special Skills:</strong>
                <input type="text" name="skillsRequired" placeholder="e.g., Proficiency in Java, Python, SQL, cloud technologies" style="width: 500px;">
            </p>

            <p><strong>Employee Qualifications:</strong></p>
            <p>
                <input type="text" name="employeeQualName" style="width: 250px;">
                meets all the requirements for this position. They hold a
                <input type="text" name="employeeDegree" placeholder="e.g., Bachelor's degree in Computer Science" style="width: 400px;">
                from
                <input type="text" name="employeeUniversity" placeholder="University Name" style="width: 300px;">
                and have
                <input type="number" name="employeeYearsExp" placeholder="0" style="width: 50px;">
                years of professional experience in this field.
            </p>

            <p><strong>Why This Position is Needed:</strong></p>
            <p>
                <textarea name="whyNeeded" rows="3" placeholder="Explain the business need for this position. How does it support company growth/operations?"></textarea>
            </p>

            <p>
                This position is a
                <label><input type="radio" name="positionType" value="permanent"> Permanent</label>
                <label><input type="radio" name="positionType" value="temporary"> Temporary</label>
                full-time position.
            </p>

            <p>
                The company will continue to employ
                <input type="text" name="employeeFinalName" style="width: 250px;">
                for the duration of their authorized stay in the United States.
            </p>
        </div>

        <!-- Closing -->
        <div style="margin-top: 40px;">
            <p>
                If you have any questions or require additional information, please do not hesitate to contact me at
                <input type="text" name="contactPhone" placeholder="(555) 123-4567" style="width: 150px;">
                or
                <input type="text" name="contactEmail" placeholder="email@company.com" style="width: 250px;">.
            </p>

            <p style="margin-top: 30px;">
                Sincerely,
            </p>

            <!-- Signature -->
            <div class="signature-section">
                <p>
                    __________________________________________<br>
                    <input type="text" name="signerName" placeholder="Name" style="border: none; width: 300px;"><br>
                    <input type="text" name="signerTitle" placeholder="Title (e.g., HR Manager, CEO)" style="border: none; width: 300px;"><br>
                    <input type="text" name="signerCompany" placeholder="Company Name" style="border: none; width: 300px;"><br>
                    <input type="text" name="signerPhone" placeholder="Phone" style="border: none; width: 200px;"><br>
                    <input type="text" name="signerEmail" placeholder="Email" style="border: none; width: 300px;">
                </p>
            </div>

            <div style="margin-top: 30px; font-size: 12px;">
                <p><strong>Enclosures:</strong></p>
                <ul>
                    <li>Company organizational chart</li>
                    <li>Business license</li>
                    <li>Recent financial statements (if applicable)</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Auto-save functionality
        const inputs = document.querySelectorAll('input[name], textarea[name]');

        inputs.forEach(input => {
            const saved = localStorage.getItem('employer_' + input.name);
            if (saved && input.type !== 'radio') {
                input.value = saved;
            } else if (saved && input.type === 'radio' && input.value === saved) {
                input.checked = true;
            }

            input.addEventListener('input', function() {
                if (input.type === 'radio') {
                    localStorage.setItem('employer_' + input.name, input.value);
                } else {
                    localStorage.setItem('employer_' + input.name, input.value);
                }
            });

            input.addEventListener('change', function() {
                if (input.type === 'radio') {
                    localStorage.setItem('employer_' + input.name, input.value);
                }
            });
        });

        // Share functionality
        function toggleShareMenu() {
            const menu = document.getElementById('shareMenu');
            menu.classList.toggle('active');
        }

        // Close share menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('shareMenu');
            const shareButton = event.target.closest('.btn-action');

            if (!menu.contains(event.target) && !shareButton?.textContent.includes('Share')) {
                menu.classList.remove('active');
            }
        });

        function shareOn(platform) {
            const url = encodeURIComponent(window.location.href);
            const title = encodeURIComponent('Employer Support Letter Template');
            const text = encodeURIComponent('Check out this helpful Employer Support Letter template for employment-based immigration petitions');

            let shareUrl;

            switch(platform) {
                case 'linkedin':
                    shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${text}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
                    break;
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${text}%20${url}`;
                    break;
                case 'email':
                    shareUrl = `mailto:?subject=${title}&body=${text}%20${url}`;
                    break;
            }

            if (shareUrl) {
                window.open(shareUrl, '_blank', 'width=600,height=400');
            }

            toggleShareMenu();
            return false;
        }

        function copyLink() {
            const url = window.location.href;

            if (navigator.clipboard) {
                navigator.clipboard.writeText(url).then(function() {
                    // Show success message
                    const copyBtn = event.target.closest('.share-option');
                    const originalText = copyBtn.querySelector('span').textContent;
                    copyBtn.querySelector('span').textContent = 'Copied!';
                    copyBtn.style.color = '#10b981';

                    setTimeout(function() {
                        copyBtn.querySelector('span').textContent = originalText;
                        copyBtn.style.color = '';
                    }, 2000);
                });
            } else {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = url;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Link copied to clipboard!');
            }

            return false;
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
</body>
</html>
